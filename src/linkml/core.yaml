id: https://cellcards.org/schema/cellcard-core
name: cellcard-core
title: Cell Card Core Schema
description: >-
  LinkML core schema for cell cards. 
  Classes, types, and slots that are reused in other cell card schemas.

license: https://creativecommons.org/publicdomain/zero/1.0/

imports:
  - linkml:types

prefixes:
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  xsd: http://www.w3.org/2001/XMLSchema#
  skos: http://www.w3.org/2004/02/skos/core#
  linkml: https://w3id.org/linkml/
  dcterms: http://purl.org/dc/terms/
  cellcard: https://cellcards.org/
  obo: http://purl.obolibrary.org/obo/
  prov: http://www.w3.org/ns/prov#

default_prefix: cellcard
default_range: string

subsets:
  provenance:
    description: >- 
      Classes and slots dervied from the PROV ontology.
    see_also: https://www.w3.org/TR/prov-o/

classes:
  named thing:
    description: >-
      A databased entity or concept/class
    abstract: true
    slots:
      - id
      - name
      - description
      - alternative identifiers
  
  #-------------------------------------
  # provenance classes subset
  #--------------------------------------
  activity:
    description: A provence-generating activity
    in_subset: 
      - provenance
    slots:
      - id
      - name
      - started at time
      - ended at time
      - was informed by
      - was associated with
      - used
    exact_mappings:
      - prov:Activity
      
  agent:
    description: A provence-generating agent
    in_subset: 
      - provenance
    slots:
      - acted on behalf of
      - was informed by
    exact_mappings:
      - prov:Agent

slots:
  id:
    identifier: true
    multivalued: false
    description: |-
      A unique identifier for a thing.
      It MUST be either a CURIE shorthand for a URI or a complete URI

  name:
    multivalued: false
    range: string
    description: >-
      A human readable label for an entity

  description:
    range: string
    multivalued: false
    description: >-
      A human-readable description of a thing.
    slot_uri: dcterms:description

  alternative names:
    range: string
    multivalued: true
    description: |-
      A list of alternative names used to refer to the entity.
      The distinction between name and alternative names is application-specific.
    exact_mappings:
      - dcterms:alternative
      - skos:altLabel

  alternative descriptions:
    range: string
    multivalued: true
    description: |-
      A list of alternative descriptions for the entity.
      The distinction between desciption and alternative descriptions is application-specific.
  
  alternative identifiers:
    range: string
    multivalued: true
    description: >-
      A list of alternative identifiers for the entity.
  
  #-------------------------------------
  # provenance slots subset
  #--------------------------------------
  started at time:
    in_subset: 
      - provenance
    range: datetime
    pattern: ^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$
    comments: >-
      The regex for ISO-8601 format was taken from here: https://www.myintervals.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/
      It may not be complete, but it is good enough for now.
    exact_mappings:
      - prov:startedAtTime

  ended at time:
    in_subset: 
      - provenance
    range: datetime
    pattern: ^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$
    comments: >-
      The regex for ISO-8601 format was taken from here: https://www.myintervals.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/
      It may not be complete, but it is good enough for now.
    exact_mappings:
      - prov:endedAtTime

  was informed by:
    in_subset: 
      - provenance
    range: activity
    exact_mappings:
      - prov:wasInformedBy

  was associated with:
    in_subset: 
      - provenance
    range: agent
    exact_mappings:
      - prov:wasAssociatedWith

  acted on behalf of:
    in_subset: 
      - provenance
    range: agent
    exact_mappings:
      - prov:actedOnBehalfOf

  was generated by:
    in_subset: 
      - provenance
    range: activity
    exact_mappings:
      - prov:wasGeneratedBy

  used:
    in_subset: 
      - provenance
    domain: activity
    mappings:
      - prov:used